from kivy.lang import Builder
from kivymd.app import MDApp
from kivymd.uix.screen import MDScreen
from kivy.uix.screenmanager import ScreenManager

KV = '''
ScreenManager:
    Screen1:
    Screen2:

<Screen1>:
    name: "screen1"
    MDScreen:
        MDTopAppBar:
            title: "Instructions"
            left_action_items: [["menu", lambda x: app.change_screen("screen2")]]
        MDLabel:
            text: "Welcome to the Therapy App Demo!\\n\\nStep 1: Enter patient info\\nStep 2: Choose therapy parameters"
            halign: "center"

<Screen2>:
    name: "screen2"
    MDScreen:
        MDTopAppBar:
            title: "Patient Info"
            left_action_items: [["arrow-left", lambda x: app.change_screen("screen1")]]
        MDBoxLayout:
            orientation: "vertical"
            padding: "20dp"
            spacing: "10dp"

            MDTextField:
                hint_text: "Patient Name"
            MDTextField:
                hint_text: "Age"
            MDTextField:
                hint_text: "Target Area"
            MDRaisedButton:
                text: "Submit"
                pos_hint: {"center_x": 0.5}
                on_release: app.show_message()
'''

class Screen1(MDScreen):
    pass

class Screen2(MDScreen):
    pass

class DemoApp(MDApp):
    def build(self):
        return Builder.load_string(KV)

    def change_screen(self, name):
        self.root.current = name

    def show_message(self):
        print("Demo only: Data not saved!")

DemoApp().run()
